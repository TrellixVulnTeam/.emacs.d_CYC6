#+OPTIONS: ^:{}
#+OPTIONS: -:nil

* 编译安装(Debian)

#+begin_quote
https://mirrors.syringanetworks.net/gnu/emacs/
#+end_quote

基础依赖
#+begin_src
sudo apt-get install libgtk-3-dev libxpm-dev libnettle6 libhogweed4 libx11-dev libjpeg-dev libpng-dev libgif-dev libtiff-dev
#+end_src

gnutls
https://gitlab.com/gnutls/gnutls/blob/master/INSTALL.md
#+begin_src
# 安装 gmplib
# 安装 nettle
# 安装 libtasn1
# 安装 libunistring

sudo apt-get install libunistring-dev 安装 libunistring 头文件或手动复制过去

# 安装 p11-kit

# 安装 nettle 后须 export PKG_CONFIG_PATH=/usr/local/lib64/pkgconfig

# 安装 gnutls 后须将头文件复制到 /usr/include

cp -r gnutls-3.6.16/lib/includes/gnutls /usr/include
#+end_src

安装完所有依赖后，编译前
#+begin_src
export PKG_CONFIG_PATH=/usr/local/lib64/pkgconfig
sudo ldconfig /usr/lib
sudo ldconfig /usr/local/lib
sudo ldconfig /usr/local/lib64
#+end_src

至此，应该能正常编译了

如果包管理有最新版，可以直接用包管理的

* 一些可能的问题

.zshrc 或 .bashrc 需添加以下内容，否则通过终端打开无法输入中文
#+begin_src shell
export LC_CTYPE="zh_CN.UTF-8"
#+end_src

~/.profile 中需添加以下内容
#+begin_src shell
export LC_CTYPE="zh_CN.UTF-8"

# directory-listing-before-filename-regexp 中文日期出现问题
export LC_TIME="en_US.UTF-8"
#+end_src

需要重启

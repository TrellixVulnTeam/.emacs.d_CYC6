#+OPTIONS: ^:{}

* Install Emacs  :TOC_3:QUOTE:
#+BEGIN_QUOTE
  - [[#use-ppa-on-ubuntu建议][use ppa on ubuntu（建议）]]
  - [[#build-from-source][build from source]]
    - [[#download][download]]
    - [[#install-dep][install dep]]
  - [[#注意事项][注意事项]]
#+END_QUOTE

** use ppa on ubuntu（建议）
#+BEGIN_SRC sh
sudo add-apt-repository ppa:kelleyk/emacs
sudo apt-get update
sudo apt install emacs26
# or other version already in https://launchpad.net/~kelleyk/+archive/ubuntu/emacs
#+END_SRC
** build from source
*** download
#+BEGIN_QUOTE
https://mirrors.syringanetworks.net/gnu/emacs/
#+END_QUOTE
*** install dep
**** 先安装旧版本的依赖，编译新版本时报错再安装提示缺少的部分（建议）
#+BEGIN_SRC sh
sudo apt-get build-dep emacs
#+END_SRC
**** 或者手动安装依赖，以下列出了可能需要的依赖
- libgtk-3-dev
- libxpm-dev
- gnutls-dev
- libx11-dev
- libjpeg-dev
- libpng-dev
- libgif-dev
- libtiff-dev
- libgtk2.0-dev
- texinfo
- libncurses5-dev or libncurses-dev # tmux编译时已安装ncurses，暂时先不用装试试
** 注意事项
- .zshrc或.bashrc需添加export LC_CTYPE="zh_CN.UTF-8"，否则通过终端
  打开无法输入中文

- ~/.profile中需添加export LC_CTYPE="zh_CN.UTF-8"，否则正常打开
  时无法输入中文

- ~/.profile中需添加export LC_TIME="en_US.UTF-8"，否则dired默认
  的正则directory-listing-before-filename-regexp会因中文日期出现问
  题

- projectile-toggle-project-read-only会在当前项目目录下新
  建.dir-locals.el文件，并将buffer-read-only打开，如果.emacs.d目录被设
  置为只读，则安装package时会因为目录不可写导致报错，直接删
  除.dir-locals.el或再次运行projectile-toggle-project-read-only即可

修改完~/.profile需要重启
